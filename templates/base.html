<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" href="nav.html" />
    <title>FutureLMS</title>

    <!-- OneSignal SDK Integration -->
    
    <script>
      window.OneSignal = window.OneSignal || [];
      OneSignal.push(function () {
        OneSignal.init({
          appId: "4e58467d-1f15-43dc-82d9-ff7a8bb7a5be", // Replace with your OneSignal App ID
          safari_web_id: "YOUR_SAFARI_WEB_ID", // Optional for Safari support
          notifyButton: {
            enable: true, // Enable the notification button
          },
          welcomeNotification: {
            title: "Welcome to FutureLMS", // Title of the notification
            message:
              "Thanks for logging in! Enjoy your learning experience!", // Message content
          },
          allowLocalhostAsSecureOrigin: true,
          serviceWorkerPath: '/static/js/OneSignalSDKWorker.js' // Allow localhost for testing
        });

        // Automatically show the notification prompt when the user logs in
        OneSignal.showHttpPrompt();
      });
    </script>
  </head>
  <body>
    {% include 'nav.html' %}
    <div class="container" style="margin-top: 73px;">
      {% for m in get_flashed_messages() %}
        <div class="alert alert-warning alert-dismissible fade show" role="alert">
          {{ m }}
          <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
        </div>
      {% endfor %}

      {% block content %}
      {% endblock %}
    </div>

    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
      crossorigin="anonymous"
    ></script>
  </body>
</html>
